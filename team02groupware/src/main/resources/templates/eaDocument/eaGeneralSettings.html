<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<!--
   @file eaGeneralSettings.html
   @brief 전자결재 관리자용 기본설정 view
   @author 김건훈
 -->	
		<!-- CSS custom -->
		<th:block layout:fragment="customCss">
			<link rel="stylesheet" href="/dist/css/electronicApproval/electronicApproval.css">
			<link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.8/summernote.css" rel="stylesheet">
		</th:block>
		
		<th:block layout:fragment="customTitle">
		<title>전자결재 설정</title>
		</th:block>
	
		<!--  Script custom -->
		<th:block layout:fragment="customScript">
			<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
			<script type="text/javascript">
				$(function(){
				
					/*
					  * @brief 옵션 선택 드롭다운 키워드 변경 이벤트
					  * @author 김건훈
					  */	
					$('.dropdown-item').on('click',function(){
						//console.log('드롭다운버튼클릭');
						var searchType = $(this).text();
						var tag = "<i class=\"ik ik-chevron-down mr-0 align-middle\"></i>";
						//console.log(searchType);
						$(this).parent().siblings('.dropdown-toggle').text(searchType);
						$(this).parent().siblings('.dropdown-toggle').append(tag);
					});
					
					
					/*
					  * @brief 각각 체크박스 체크 이벤트
					  * @author 김건훈
					  */
					  
					$('.ea-checkbox').on('click',function(){
						//console.log('체크박스클릭');
						if($(this).siblings('input:checkbox').is(":checked")==false){	
												$(this).siblings('input:checkbox').attr("checked", true);
						}else{			
												$(this).siblings('input:checkbox').attr("checked", false);
						};	
					});
					
					 
					/*
					  * @brief 양식생성 페이지 테이블 내 약칭,보존연한,보안등급 물음표 아이콘 Modal Event
					  * @author 김건훈
					  */	
					$('.ik-help-circle').on('mouseover',function(e){
						//console.log('마우스오버');
						var ruleTipType = $(this).siblings().text()
						console.log(ruleTipType)
						if(ruleTipType=='보안 등급별 열람 설정'){
							$('#modal-content-type').text('결재가 완료된 후 열람할 수 있는 직위 등급을 설정합니다.');	
						}else if(ruleTipType=='지연 문서 표시'){
							$('#modal-content-type').text('지연 문서 표시 기간을 선택하면 그 기간 후 관련자의 문서 목록에 빨간색으로 나타납니다.');
						}
  						var sWidth = window.innerWidth;
						var sHeight = window.innerHeight;
						var mWidth = $('.ruletip').width();
						var mHeight = $('.ruletip').height();
						var divLeft = e.clientX - 150;
						var divTop = e.clientY - 48;
						
						if( divLeft + mWidth > sWidth ) divLeft -= mWidth;
						if( divTop + mHeight > sHeight ) divTop -= mWidth;		
						$('.ruletip').css({display:"block", "top": divTop, "left": divLeft});
						
						$(this).css("color","black");
						
					});
				
					$('.ik-help-circle').on('mouseleave',function(){
						
						$('.ruletip').css("display","none");
						$(this).css("color","#bcc8d8");
					});
					
				});
			</script>
		</th:block>
		<th:block layout:fragment="customContents">                    
		               <div class="card">
		              	  <!-- 테이블 상단 메뉴탭 Start-->
			                 <div class="card-header">
			                 	<h3>기본 설정</h3>
			                 </div>
	                           <!-- 테이블 상단 메뉴탭 End-->
	                           
	                           <div class="electronic-approval-form">   
	                                                  
                               <!-- 문서 양식 기본설정 테이블 Start -->
                                    <div class="card-header d-block">
                                        <h6><span>보안 등급별 열람 설정</span><i class="ik ik-help-circle"></i></h6> 
                                    <div class="card-body p-0 table-border-style">
                                        <div class="table-responsive">
                                            <table class="table document-form-table">                                          
                                                <tbody>
                                                    <tr>
                                                        <td class="table-active document-form-table-td">S등급</td>
                                                        <td>          
                                                        	기안 상에 설정된 관련자들만 문서 열람
                                              		  </td>                     
                                                    </tr>
                                                     <tr>
                                                        <td class="table-active document-form-table-td">A등급</td>
                                                        <td>
                                                        	결재완료후 직위
                                                        	<button class="btn btn-outline-dark btn-xs dropdown-toggle col-sm-2" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    		직위 선택<i class="ik ik-chevron-down mr-0 align-middle"></i>
                                               				</button>
			                                                <div class="dropdown-menu">
			                                                	<a class="dropdown-item">1등급(대표이사)</a>
			                                                    <a class="dropdown-item">2등급(이사)</a>
			                                                    <a class="dropdown-item">3등급(부장)</a>
			                                                    <a class="dropdown-item">4등급(차장)</a>
			                                                    <a class="dropdown-item">5등급(과장)</a>
			                                                    <a class="dropdown-item">6등급(대리)</a>
			                                                    <a class="dropdown-item">7등급(사원)</a>
			                                                </div>
			                                              	 이상 기본열람
			                                            </td>
                                                        
                                                    </tr>
                                                     <tr>
                                                        <td class="table-active document-form-table-td">B등급</td>
                                                        <td>
                                                        	<button class="btn btn-outline-dark btn-xs dropdown-toggle col-sm-9" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    		보존연한 선택<i class="ik ik-chevron-down mr-0 align-middle"></i>
                                               				</button>
			                                                <div class="dropdown-menu">
			                                                	<a class="dropdown-item">1년</a>
			                                                    <a class="dropdown-item">5년</a>
			                                                    <a class="dropdown-item">10년</a>
			                                                    <a class="dropdown-item">영구</a>
			                                                </div>   
			                                            </td>             
                                                    </tr>
                                                    <tr>
                                                        <td class="table-active document-form-table-td">C등급</td>
                                                        <td>          
                                                        	모든 임직원이 문서 열람
                                              		  </td>                     
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    </div>
                                
                                 <!-- 문서 양식 기본설정 테이블  End -->
                                 
                                 <!-- 문서 양식 결재라인 포맷 설정 Start -->  
                                    <div class="card-header d-block">                                   
                                       
                                        <h6>
                                       		<span>지연 문서 표시</span><i class="ik ik-help-circle"></i>
                                    	</h6>
                                   
                                    </div>
                                 <!-- 문서 양식 결재라인 포맷 설정 End -->
                                 
                                 <!-- 회사 코드설정 Start -->    
                                    <div class="card-body  table-border-style">
                                    	<h6>회사 코드 설정</h6>                                   
                                         
                                    </div>                      		
                        		</div>                         		                                	 
                                <!-- 회사 코드설정 End -->  	    
                        		</div>
                        		
                        		<!-- 양식생성 페이지 테이블 내 약칭,보존연한,보안등급 물음표 아이콘 Modal View Start --> 
	                        	<div class="modal-dialog modal-sm mt-0 mb-0 ruletip" role="document">
						        	<div class="modal-content">
	                               		 <div class="modal-body">
	                                   		 <p id="modal-content-type"></p>
	                                	 </div>
	                           		 </div>
                           		</div>
                        		<!-- 양식생성 페이지 테이블 내 약칭,보존연한,보안등급 물음표 아이콘 Modal View End -->
                        		
                        		<!-- 결재 포맷지정 Modal View Start -->
		                        <div class="modal fade show" id="approval-format" tabindex="-1" role="dialog" aria-hidden="true">
		                          <div class="modal-dialog modal-lg mt-0 mb-0 modal-dialog-centered" role="document">
		                           <div class="modal-content">
		                              <div class="modal-header">
		                                  <h5 class="modal-title">결재 포맷을 선택하세요.</h5>
		                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		                                      <span aria-hidden="true"></span>
		                                  </button>
		                              </div>
		                              <div class="modal-body">
		                                	<div class="card">
		                                	  <div class="approval-format-type-title">
		                                		 <div class="form-radio">
		                                		  <div class="radio">
			                                		<label>
	                                                    <input type="radio" name="radio">
	                                                    <i class="helper"></i>결재
	                                                </label>
                                                  </div>
                                                 </div>
		                                		</div>
		                                		<img src="img/electronicApproval/approval_format.PNG" style="width: 90%; max-height: 250px;">
		                                		<div class="approval-format-type-title">
		                                		<div class="form-radio">
		                                		  <div class="radio">
			                                		<label>
	                                                    <input type="radio" name="radio">
	                                                    <i class="helper"></i>신청
	                                                </label>
                                                  </div>
                                                </div>		                             		
		                                		</div>
		                                		<div class="card-body">
		                                		해당 결재 양식은 준비 중 입니다.
		                                		</div>
		                                		<div class="approval-format-type-title">
		                                		<div class="form-radio">
		                                		  <div class="radio">
			                                		<label>
	                                                    <input type="radio" name="radio">
	                                                    <i class="helper"></i>결재 후 송신
	                                                </label>
                                                  </div>
                                                </div>		                                		
		                                		</div>
		                                		<div class="card-body">
		                                		해당 결재 양식은 준비 중 입니다.
		                                		</div>
		                                		<div class="approval-format-type-title">
		                                		<div class="form-radio">
		                                		  <div class="radio">
			                                		<label>
	                                                    <input type="radio" name="radio">
	                                                    <i class="helper"></i>회람
	                                                </label>
                                                  </div>
                                                </div>		                                		
		                                		</div>
		                                		<div class="card-body">
		                                		해당 결재 양식은 준비 중 입니다.
		                                		</div>
		                                	</div>
		                              </div>
		                              <div class="modal-footer">
		                                  <button type="button" class="btn btn-primary">확인</button>
		                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
		                              </div>
		                          	</div>
		                         </div>
		                       </div>
	                     	<!-- 결재 포맷지정 Modal View Start --> 
		</th:block>

	<th:block layout:fragment="customJs">        
        <script>window.jQuery || document.write('<script src="../src/js/vendor/jquery-3.3.1.min.js"><\/script>')</script>
        <script src="/plugins/popper.js/dist/umd/popper.min.js"></script>
        <script src="/plugins/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="/plugins/perfect-scrollbar/dist/perfect-scrollbar.min.js"></script>
        <script src="/plugins/screenfull/dist/screenfull.js"></script>
        <script src="/plugins/sweetalert/dist/sweetalert.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.8/summernote.js"></script>
        <script src="/summernote/lang/summernote-ko-KR.js"></script>
        <script src="/dist/js/theme.min.js"></script>
        <script src="/js/layouts.js"></script>

		<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
			<script>
		    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
		    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
		    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
		    e.src='https://www.google-analytics.com/analytics.js';
		    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
		    ga('create','UA-XXXXX-X','auto');ga('send','pageview');
			</script>
	</th:block>
</html>